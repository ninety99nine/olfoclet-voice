import{j as i,m as n,w as r,r as c,o as d,a as o,t as u}from"./app-D8abw76g.js";import{M as p}from"./Table-DlpK1Rd7.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const m={components:{Modal:p},data(){return{isDeleting:!1,callFlowIds:[]}},methods:{showModal(e){this.callFlowIds=e,this.$refs.modal.showModal()},async deleteCallFlows(e){this.isDeleting=!0;try{await i.delete("/api/call-flows",{params:{call_flow_ids:this.callFlowIds}}),this.$notificationState.showSuccessNotification(`${this.callFlowIds.length} call flow(s) deleted successfully!`),this.$emit("deleted",this.callFlowIds),e()}catch(l){console.error("Failed to delete call flows:",l),this.$notificationState.showWarningNotification("Failed to delete call flows.")}finally{this.isDeleting=!1}}}},_={class:"p-4"},F={class:"text-sm text-gray-700 dark:text-neutral-400"};function g(e,l,h,f,t,s){const a=c("Modal");return d(),n(a,{size:"sm",ref:"modal",showFooter:!0,dismissable:!0,scrollOnContent:!1,showApproveButton:!0,header:"Delete Call Flows",approveText:"Delete",approveLoading:t.isDeleting,approveAction:s.deleteCallFlows,subheader:"Are you sure you want to delete the selected call flows?"},{content:r(()=>[o("div",_,[o("p",F," This action cannot be undone. "+u(t.callFlowIds.length)+" call flow(s) will be permanently deleted. ",1)])]),_:1},8,["approveLoading","approveAction"])}const C=w(m,[["render",g]]),y={components:{Modal:p},data(){return{isDeleting:!1,callFlow:null}},methods:{showModal(e){this.callFlow=e,this.$refs.modal.showModal()},async deleteCallFlow(e){this.isDeleting=!0;try{await i.delete(`/api/call-flows/${this.callFlow.id}`),this.$notificationState.showSuccessNotification("Call flow deleted successfully!"),this.$emit("deleted",this.callFlow.id),e()}catch(l){console.error("Failed to delete call flow:",l),this.$notificationState.showWarningNotification("Failed to delete call flow.")}finally{this.isDeleting=!1}}}};function D(e,l,h,f,t,s){const a=c("Modal");return d(),n(a,{size:"sm",ref:"modal",showFooter:!0,dismissable:!0,scrollOnContent:!1,showApproveButton:!0,header:"Delete Call Flow",approveText:"Delete",approveLoading:t.isDeleting,approveAction:s.deleteCallFlow,subheader:"Are you sure you want to delete this call flow?"},{content:r(()=>l[0]||(l[0]=[o("div",{class:"p-4"},[o("p",{class:"text-sm text-gray-700 dark:text-neutral-400"}," This action cannot be undone. The call flow will be permanently deleted. ")],-1)])),_:1},8,["approveLoading","approveAction"])}const M=w(y,[["render",D]]);export{M as D,C as a};
