import{c as m,F as _,h as k,o as c,n as M,m as S,b as w,a as i,p as W,t as x,j as O,w as f,r as p,d as r,k as G,e as A,G as Y,i as C}from"./app-Du355Hwa.js";import{b as U,S as Z,M as v,T as H,P as J,i as D,a as V}from"./Table-Ukz-LVMs.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{I as E,P as K}from"./Input-Ce6sOWCE.js";import{B as Q}from"./Button-QuQuG-sh.js";import{f as X,a as $,D as ee}from"./dateUtils-BxSzW5yy.js";import{S as te}from"./Switch-C9_nwvxw.js";import{C as oe}from"./circle-alert-BxAnEgKy.js";import{B as T}from"./building-De0W7STi.js";import{c as F}from"./createLucideIcon-CQR3ABw7.js";import{E as se}from"./external-link-CpO9C08d.js";import{U as ne}from"./user-plus-DJ5VNUXb.js";import{P as ie}from"./pencil-CpKEG2hD.js";import{P as ae}from"./plus-Cw5wWZrK.js";import"./Tooltip-Bh561etO.js";import"./Drawer-EX-MXofE.js";import"./arrow-up-CiGeyIVi.js";import"./vue-draggable-next.esm-bundler-Bt-FJ2_7.js";import"./mail-CmabDzCr.js";/**
 * @license lucide-vue-next v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=F("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-vue-next v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=F("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),de={props:{modelValue:{type:String,required:!0},tabs:{type:Array,required:!0,default:()=>[]}},methods:{selectTab(o){this.$emit("update:modelValue",o),this.$emit("change",o)}}},ce={class:"inline-flex items-center bg-gray-100 rounded-lg p-1 dark:bg-neutral-800 space-x-1"},me=["onClick"];function pe(o,e,a,n,t,s){return c(),m("div",ce,[(c(!0),m(_,null,k(a.tabs,l=>(c(),m("button",{key:l.value,type:"button",onClick:u=>s.selectTab(l.value),class:M(["flex items-center gap-x-2 px-4 py-2 text-sm font-medium rounded-md transition cursor-pointer",l.value===a.modelValue?"bg-white shadow text-gray-900 dark:bg-neutral-700 dark:text-white":"text-gray-500 hover:text-gray-700 hover:bg-white dark:text-neutral-400 dark:hover:text-white"])},[l.icon?(c(),S(W(l.icon),{key:0,class:"w-4 h-4"})):w("",!0),i("span",null,x(l.label),1)],10,me))),128))])}const he=b(de,[["render",pe]]),ue={components:{Modal:v,Input:E,Switch:te,Select:Z,SelectCountry:U},inject:["formState","notificationState"],data(){return{isCreating:!1,createAdmin:!1,form:{name:"",seats:"1",country:"",admin_name:"",admin_email:"",admin_mobile:""}}},methods:{showModal(){this.reset(),this.$refs.modal.showModal()},reset(){this.form.name="",this.form.seats="1",this.form.country="",this.form.admin_name="",this.form.admin_email="",this.form.admin_mobile=""},async createOrganization(o){var e,a;if(this.formState.hideFormErrors(),this.form.name.trim()===""&&this.formState.setFormError("name","Organization name is required"),this.form.country===""&&this.formState.setFormError("country","Select a country"),this.form.seats===""&&this.formState.setFormError("seats","Number of seats is required"),this.createAdmin&&(this.form.admin_name.trim()===""&&this.formState.setFormError("admin_name","Admin name is required"),this.form.admin_email.trim()===""&&this.formState.setFormError("admin_email","Admin email is required"),this.form.admin_mobile.trim()===""&&this.formState.setFormError("admin_mobile","Phone number is required")),!this.formState.hasErrors){this.isCreating=!0;try{await O.post("/api/organizations",this.form),this.notificationState.showSuccessNotification("Organisation created"),this.$emit("created"),o()}catch(n){const t=((a=(e=n==null?void 0:n.response)==null?void 0:e.data)==null?void 0:a.message)||(n==null?void 0:n.message)||"Something went wrong trying to create the organisation";this.notificationState.showWarningNotification(t),this.formState.setServerFormErrors(n),console.error("Failed to create organization:",n)}finally{this.isCreating=!1}}}}},ge={class:"space-y-4"},fe={class:"border-t border-gray-200 border-dashed space-y-4 pt-4"},ye={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"};function we(o,e,a,n,t,s){const l=p("Input"),u=p("SelectCountry"),y=p("Switch"),z=p("Modal");return c(),S(z,{size:"sm",ref:"modal",showFooter:!0,dismissable:!0,scrollOnContent:!1,showApproveButton:!0,approveLoading:t.isCreating,header:"Create New Organization",approveText:"Create Organization",approveAction:s.createOrganization,subheader:"Add a new call center for an organisation"},{trigger:f(h=>[G(o.$slots,"default",{showModal:h.showModal})]),content:f(()=>[i("div",ge,[r(l,{modelValue:t.form.name,"onUpdate:modelValue":e[0]||(e[0]=h=>t.form.name=h),showAsterisk:!0,label:"Organization Name",placeholder:"Acme Telecom",errorText:s.formState.getFormError("name")},null,8,["modelValue","errorText"]),r(u,{label:"Country",showAsterisk:!0,modelValue:t.form.country,"onUpdate:modelValue":e[1]||(e[1]=h=>t.form.country=h),errorText:s.formState.getFormError("country")},null,8,["modelValue","errorText"]),r(l,{type:"number",label:"Seats",placeholder:"10",showAsterisk:!0,modelValue:t.form.seats,"onUpdate:modelValue":e[2]||(e[2]=h=>t.form.seats=h),errorText:s.formState.getFormError("seats")},null,8,["modelValue","errorText"]),i("div",fe,[r(y,{size:"sm",modelValue:t.createAdmin,"onUpdate:modelValue":e[3]||(e[3]=h=>t.createAdmin=h),suffixText:"Create Admin"},null,8,["modelValue"]),t.createAdmin?(c(),m(_,{key:0},[i("div",ye,[r(l,{label:"Admin Name",showAsterisk:!0,placeholder:"Full Name",modelValue:t.form.admin_name,"onUpdate:modelValue":e[4]||(e[4]=h=>t.form.admin_name=h),errorText:s.formState.getFormError("admin_name")},null,8,["modelValue","errorText"]),r(l,{type:"email",label:"Admin Email",showAsterisk:!0,modelValue:t.form.admin_email,"onUpdate:modelValue":e[5]||(e[5]=h=>t.form.admin_email=h),placeholder:"admin@domain.com",errorText:s.formState.getFormError("admin_email")},null,8,["modelValue","errorText"])]),r(l,{type:"mobile",showAsterisk:!0,label:"Phone Number",modelValue:t.form.admin_mobile,"onUpdate:modelValue":e[6]||(e[6]=h=>t.form.admin_mobile=h),errorText:s.formState.getFormError("admin_mobile")},null,8,["modelValue","errorText"])],64)):w("",!0)])])]),_:3},8,["approveLoading","approveAction"])}const xe=b(ue,[["render",we]]),_e={name:"UpdateOrganizationModal",inject:["formState","notificationState"],components:{Modal:v,Input:E,SelectCountry:U},data(){return{isUpdating:!1,organization:null,form:{name:"",country:""}}},methods:{showModal(o){this.reset(),this.organization=o,this.form.name=o.name,this.form.country=o.country,this.$refs.modal.showModal()},reset(){this.form.name="",this.form.country="",this.organization=null},async updateOrganization(o){var e,a;if(this.formState.hideFormErrors(),this.form.name.trim()===""&&this.formState.setFormError("name","Organization name is required"),this.form.country||this.formState.setFormError("country","Select a country"),!this.formState.hasErrors){this.isUpdating=!0;try{const n=this.organization._links.update_organization;await O.put(n,this.form),this.notificationState.showSuccessNotification("Organization updated"),this.$emit("updated"),o()}catch(n){const t=((a=(e=n==null?void 0:n.response)==null?void 0:e.data)==null?void 0:a.message)||(n==null?void 0:n.message)||"Something went wrong updating the organization";this.notificationState.showWarningNotification(t),this.formState.setServerFormErrors(n),console.error("Failed to update organization:",n)}finally{this.isUpdating=!1}}}}},ze={class:"space-y-4"};function be(o,e,a,n,t,s){const l=p("Input"),u=p("SelectCountry"),y=p("Modal");return c(),S(y,{size:"sm",ref:"modal",showFooter:!0,dismissable:!0,scrollOnContent:!1,showApproveButton:!0,approveLoading:t.isUpdating,header:"Update Organization",approveText:"Update Organization",approveAction:s.updateOrganization,subheader:"Modify the organization's details"},{content:f(()=>[i("div",ze,[r(l,{modelValue:t.form.name,"onUpdate:modelValue":e[0]||(e[0]=z=>t.form.name=z),showAsterisk:!0,label:"Organization Name",placeholder:"Acme Telecom",errorText:s.formState.getFormError("name")},null,8,["modelValue","errorText"]),r(u,{label:"Country",showAsterisk:!0,modelValue:t.form.country,"onUpdate:modelValue":e[1]||(e[1]=z=>t.form.country=z),errorText:s.formState.getFormError("country")},null,8,["modelValue","errorText"])])]),_:1},8,["approveLoading","approveAction"])}const Se=b(_e,[["render",be]]),Oe={components:{Modal:v},inject:["notificationState"],data(){return{organization:null,isDeleting:!1}},methods:{showModal(o){this.organization=o,this.$refs.modal.showModal()},async onDelete(o){var e,a,n;if(this.organization){this.isDeleting=!0;try{const t=this.organization._links.delete_organization,s=await O.delete(t);(e=s==null?void 0:s.data)!=null&&e.message&&this.notificationState.showSuccessNotification(s.data.message),this.$emit("deleted",this.organization.id),o()}catch(t){const s=((n=(a=t==null?void 0:t.response)==null?void 0:a.data)==null?void 0:n.message)||(t==null?void 0:t.message)||"Something went wrong while deleting the organization";this.notificationState.showWarningNotification(s)}finally{this.isDeleting=!1}}}}},ve={key:0,class:"text-sm text-gray-700 dark:text-neutral-400"},ke={class:"font-bold text-black"};function Me(o,e,a,n,t,s){const l=p("Modal");return c(),S(l,{size:"sm",ref:"modal",approveType:"danger",header:"Confirm Delete",isLoading:t.isDeleting,approveAction:s.onDelete,approveText:"Delete Organization"},{content:f(()=>[t.organization?(c(),m("p",ve,[e[0]||(e[0]=A(" Are you sure you want to permanently delete ")),i("span",ke,x(t.organization.name),1),e[1]||(e[1]=A("? "))])):w("",!0)]),_:1},8,["isLoading","approveAction"])}const Te=b(Oe,[["render",Me]]),Ae={inject:["notificationState"],components:{Modal:v,CircleAlert:oe},data(){return{isDeleting:!1,organizationIds:[]}},computed:{total(){return this.organizationIds.length},approveText(){return this.total===1?"Delete Organization":"Delete Organizations"}},methods:{showModal(o=[]){this.organizationIds=o,this.$refs.modal.showModal()},async onDelete(o){var e,a,n;if(!(this.isDeleting||this.organizationIds.length===0)){this.isDeleting=!0;try{const t="/api/organizations",s={data:{organization_ids:this.organizationIds}},l=await O.delete(t,s),u=(e=l==null?void 0:l.data)==null?void 0:e.message;u&&this.notificationState.showSuccessNotification(u),this.$emit("deleted",this.organizationIds),o()}catch(t){const s=((n=(a=t==null?void 0:t.response)==null?void 0:a.data)==null?void 0:n.message)||(t==null?void 0:t.message)||"Something went wrong while deleting organizations";this.notificationState.showWarningNotification(s)}finally{this.isDeleting=!1}}}}},Ee={class:"flex space-x-2 items-center p-4 text-xs bg-red-50 text-red-500 border border-red-200 border-dashed rounded-lg mb-8"};function Ce(o,e,a,n,t,s){const l=p("CircleAlert"),u=p("Modal");return c(),S(u,{size:"sm",ref:"modal",approveType:"danger",approveIcon:"delete",isLoading:t.isDeleting,approveAction:s.onDelete,approveText:s.approveText,header:"Delete Organizations"},{content:f(()=>[i("div",Ee,[r(l,{size:"20"}),i("span",null," Are you sure you want to delete "+x(s.total>1?`these ${s.total} organizations`:"this 1 organization")+"? ",1)])]),_:1},8,["isLoading","approveAction","approveText"])}const De=b(Ae,[["render",Ce]]),Ve={inject:["formState","notificationState"],components:{Tabs:he,Pill:J,Modal:v,Input:E,Button:Q,Popover:K,Dropdown:ee,Table:H,Building:T,AddOrganizationModal:xe,UpdateOrganizationModal:Se,DeleteOrganizationModal:Te,DeleteOrganizationsModal:De},data(){return{Plus:ae,Pencil:ie,Trash2:V,UserPlus:ne,Building:T,ExternalLink:se,perPage:"15",getCountryName:Y,checkedRows:[],pagination:null,searchTerm:null,selectAll:!1,organizations:[],filterExpressions:[],sortingExpressions:[],activeTab:"organizations",isLoadingOrganizations:!1,columns:this.prepareColumns(),tabs:[{label:"Organizations",value:"organizations",icon:T},{label:"Subscription Plans",value:"subscriptions",icon:re},{label:"Security",value:"security",icon:le}],dropdownOptions:[{icon:V,label:"Delete",action:this.showDeleteOrganizationsModal}]}},watch:{selectAll(o){this.checkedRows=this.organizations.reduce((e,a)=>(e[a.id]=o,e),{})}},computed:{hasSearchTerm(){return this.searchTerm!=null&&this.searchTerm.trim()!=""},totalCheckedRows(){return Object.values(this.checkedRows).filter(o=>o).length},hasFilterExpressions(){return this.filterExpressions.length>0},hasSortingExpressions(){return this.sortingExpressions.length>0},showTable(){var o;return this.isLoadingOrganizations||((o=(this.pagination??{}).meta)==null?void 0:o.total)>0||this.hasSearchTerm||this.hasFilterExpressions||this.hasSortingExpressions}},methods:{formattedDatetime:$,formattedRelativeDate:X,prepareColumns(){const o=["Organization","Country","Status","Users","Created Date"],e=["Organization","Country","Status","Users","Created Date"];return o.map(a=>({name:a,active:e.includes(a),priority:e.includes(a)}))},showAddOrganizationsModal(){this.$refs.addOrganizationModal.showModal()},showUpdateOrganizationModal(o){this.$refs.updateOrganizationModal.showModal(o)},showDeleteOrganizationModal(o){this.$refs.deleteOrganizationModal.showModal(o)},showDeleteOrganizationsModal(){const o=this.organizations.filter(e=>this.checkedRows[e.id]).map(e=>e.id);this.$refs.deleteOrganizationsModal.showModal(o)},onOrganizationDeleted(o){this.organizations=this.organizations.filter(e=>e.id!==o),this.organizations.length===0&&this.fetchOrganizations()},onOrganizationsDeleted(o=[]){o.forEach(e=>{this.checkedRows[e]!==void 0&&(this.checkedRows[e]=!1)}),this.selectAll=!1,this.organizations=this.organizations.filter(e=>!o.includes(e.id)),this.organizations.length===0&&this.fetchOrganizations()},onViewLogin(o){const e=`${window.location.origin}/${o.alias}/login`;window.open(e,"_blank")},paginate(o){this.fetchOrganizations(o)},search(o){this.searchTerm=o,this.fetchOrganizations()},updatedColumns(o){this.columns=o},updatedFilters(o){const e=o.map(a=>a.expression);D(this.filterExpressions,e)||(this.filterExpressions=e,this.fetchOrganizations())},updatedSorting(o){const e=o.map(a=>a.expression);D(this.sortingExpressions,e)||(this.sortingExpressions=e,this.fetchOrganizations())},updatedPerPage(o){this.perPage=o,this.fetchOrganizations()},async fetchOrganizations(o=null){var e,a;try{this.isLoadingOrganizations=!0,o=o??"/api/organizations";let n={params:{per_page:this.perPage,_countable_relationships:"users"}};this.hasSearchTerm&&(n.params.search=this.searchTerm),this.hasFilterExpressions&&(n.params._filters=this.filterExpressions.join("|")),this.hasSortingExpressions&&(n.params._sort=this.sortingExpressions.join("|"));const t=await O.get(o,n);this.pagination=t.data,this.organizations=this.pagination.data,this.checkedRows=this.organizations.reduce((s,l)=>(s[l.id]=!1,s),{})}catch(n){const t=((a=(e=n==null?void 0:n.response)==null?void 0:e.data)==null?void 0:a.message)||(n==null?void 0:n.message)||"Something went wrong while fetching organizations";this.notificationState.showWarningNotification(t),console.error("Failed to fetch organizations:",n)}finally{this.isLoadingOrganizations=!1}}},created(){this.isLoadingOrganizations=!0,this.searchTerm=this.$route.query.searchTerm,this.$route.query.filterExpressions&&(this.filterExpressions=this.$route.query.filterExpressions.split("|")),this.$route.query.sortingExpressions&&(this.sortingExpressions=this.$route.query.sortingExpressions.split("|")),this.fetchOrganizations()}},Ue={class:"select-none min-h-screen bg-gray-50 pt-8 p-4 sm:p-8 space-y-4 sm:space-y-6"},Fe={class:"space-y-8"},Pe={class:"flex items-end space-x-2"},Ie={class:"flex justify-between"},Ne={class:"border-b border-indigo-200"},Le={scope:"col",class:"whitespace-nowrap align-top font-semibold px-4 py-2.5"},Re=["onClick"],qe={key:0,class:"whitespace-nowrap align-center pr-4 py-4"},Be={class:"flex items-center space-x-2"},je={class:"whitespace-nowrap"},We={key:1,class:"whitespace-nowrap align-center pr-4 py-4"},Ge={class:"flex items-center space-x-2"},Ye=["src","alt"],Ze={key:2,class:"whitespace-nowrap align-center pr-4 py-4"},He={key:3,class:"whitespace-nowrap align-center text-center pr-4 py-4"},Je={key:4,class:"whitespace-nowrap align-center pr-4 py-4"},Ke={class:"flex space-x-1 items-center"},Qe={class:"h-16 pr-4 py-4 flex align-middle items-center space-x-2"},Xe={key:1,class:"select-none w-full flex justify-center py-16"},$e={class:"max-w-sm w-full bg-white shadow-sm rounded-xl p-6 flex flex-col items-center text-center space-y-4 border border-dashed border-gray-200"};function et(o,e,a,n,t,s){const l=p("Building"),u=p("Tabs"),y=p("Button"),z=p("Dropdown"),h=p("Input"),P=p("Pill"),I=p("Popover"),N=p("Table"),L=p("AddOrganizationModal"),R=p("UpdateOrganizationModal"),q=p("DeleteOrganizationModal"),B=p("DeleteOrganizationsModal");return c(),m("div",Ue,[s.showTable?(c(),m(_,{key:0},[i("div",Fe,[i("div",Pe,[r(l,{size:"48","stroke-width":"1",class:"text-gray-400"}),e[3]||(e[3]=i("div",null,[i("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white"},"Organization Management"),i("p",{class:"text-sm text-gray-600 dark:text-neutral-400"}," Manage all organizations and their settings ")],-1))]),i("div",Ie,[r(u,{modelValue:t.activeTab,"onUpdate:modelValue":e[0]||(e[0]=d=>t.activeTab=d),tabs:t.tabs},null,8,["modelValue","tabs"]),r(y,{type:"primary",size:"md",leftIcon:t.Plus,leftIconSize:"20",action:s.showAddOrganizationsModal},{default:f(()=>e[4]||(e[4]=[i("span",null,"Add Organization",-1)])),_:1},8,["leftIcon","action"])])]),r(N,{onSearch:s.search,columns:t.columns,perPage:t.perPage,onPaginate:s.paginate,searchTerm:t.searchTerm,pagination:t.pagination,resource:"organizations",onRefresh:s.fetchOrganizations,onUpdatedColumns:s.updatedColumns,onUpdatedFilters:s.updatedFilters,onUpdatedSorting:s.updatedSorting,onUpdatedPerPage:s.updatedPerPage,isLoading:t.isLoadingOrganizations,filterExpressions:t.filterExpressions,sortingExpressions:t.sortingExpressions},{belowToolbar:f(()=>[i("div",{class:M([{hidden:s.totalCheckedRows==0},"bg-gray-50 border flex items-center mb-2 p-4 rounded-lg shadow space-x-2"])},[e[5]||(e[5]=i("span",{class:"text-sm"},"Actions: ",-1)),r(z,{triggerSize:"sm",options:t.dropdownOptions,triggerText:`Select Action (${s.totalCheckedRows} selected)`},null,8,["options","triggerText"])],2)]),head:f(()=>[i("tr",Ne,[i("th",Le,[r(h,{type:"checkbox",modelValue:t.selectAll,"onUpdate:modelValue":e[1]||(e[1]=d=>t.selectAll=d)},null,8,["modelValue"])]),(c(!0),m(_,null,k(t.columns,(d,g)=>(c(),m(_,{key:g},[d.active?(c(),m("th",{key:0,scope:"col",class:M(["whitespace-nowrap align-top font-semibold pr-4 py-2.5",{"text-center":["Users"].includes(d.name)}])},x(d.name),3)):w("",!0)],64))),128)),e[6]||(e[6]=i("th",{scope:"col",class:"whitespace-nowrap align-top font-semibold pr-4 py-2.5"},"Actions",-1))])]),body:f(()=>[(c(!0),m(_,null,k(t.organizations,d=>(c(),m("tr",{key:d.id,onClick:C(g=>o.onView(d),["stop"]),class:M([t.checkedRows[d.id]?"bg-blue-50":"bg-white hover:bg-gray-50","group cursor-pointer text-sm border-b border-gray-200"])},[i("td",{onClick:e[2]||(e[2]=C(()=>{},["stop"])),class:"whitespace-nowrap align-top px-4 py-4"},[r(h,{type:"checkbox",modelValue:t.checkedRows[d.id],"onUpdate:modelValue":g=>t.checkedRows[d.id]=g},null,8,["modelValue","onUpdate:modelValue"])]),(c(!0),m(_,null,k(t.columns,(g,j)=>(c(),m(_,{key:j},[g.active?(c(),m(_,{key:0},[g.name=="Organization"?(c(),m("td",qe,[i("div",Be,[e[7]||(e[7]=i("img",{src:"https://placehold.co/21x24",class:"size-8 rounded-lg shrink-0",alt:"Logo"},null,-1)),i("div",je,x(d.name),1)])])):w("",!0),g.name=="Country"?(c(),m("td",We,[i("div",Ge,[d.country?(c(),m("img",{key:0,src:`/svgs/country-flags/${d.country.toLowerCase()}.svg`,alt:d.country,class:"w-5 h-4 rounded-sm object-cover"},null,8,Ye)):w("",!0),i("span",null,x(t.getCountryName(d.country)),1)])])):w("",!0),g.name=="Status"?(c(),m("td",Ze,[r(P,{type:d.active?"success":"warning",size:"xs"},{default:f(()=>[A(x(d.active?"Active":"Inactive"),1)]),_:2},1032,["type"])])):w("",!0),g.name=="Users"?(c(),m("td",He,[i("span",null,x(d.users_count)+"/"+x(d.seats),1)])):g.name=="Created Date"?(c(),m("td",Je,[i("div",Ke,[i("span",null,x(s.formattedDatetime(d.createdAt)),1),r(I,{placement:"top",class:"opacity-0 group-hover:opacity-100",content:s.formattedRelativeDate(d.createdAt)},null,8,["content"])])])):w("",!0)],64)):w("",!0)],64))),128)),i("td",Qe,[r(y,{type:"bare",size:"xs",leftIcon:t.ExternalLink,leftIconSize:"16",action:()=>s.onViewLogin(d)},null,8,["leftIcon","action"]),r(y,{type:"bare",size:"xs",leftIcon:t.UserPlus,leftIconSize:"16"},null,8,["leftIcon"]),r(y,{type:"bare",size:"xs",leftIcon:t.Pencil,leftIconSize:"16",action:()=>s.showUpdateOrganizationModal(d)},null,8,["leftIcon","action"]),r(y,{type:"bareDanger",size:"xs",leftIcon:t.Trash2,leftIconSize:"16",action:()=>s.showDeleteOrganizationModal(d)},null,8,["leftIcon","action"])])],10,Re))),128))]),_:1},8,["onSearch","columns","perPage","onPaginate","searchTerm","pagination","onRefresh","onUpdatedColumns","onUpdatedFilters","onUpdatedSorting","onUpdatedPerPage","isLoading","filterExpressions","sortingExpressions"])],64)):(c(),m("div",Xe,[i("div",$e,[r(l,{size:"48",class:"text-gray-400"}),e[9]||(e[9]=i("h2",{class:"text-2xl font-bold text-gray-800"}," No Organizations Yet ",-1)),e[10]||(e[10]=i("p",{class:"text-sm text-gray-500"}," Add your first organization to manage agents, assign roles, and start handling calls. ",-1)),r(y,{type:"primary",size:"md",leftIcon:t.Plus,leftIconSize:"20",action:s.showAddOrganizationsModal},{default:f(()=>e[8]||(e[8]=[i("span",null,"Add Organization",-1)])),_:1},8,["leftIcon","action"])])])),r(L,{ref:"addOrganizationModal",onCreated:s.fetchOrganizations},null,8,["onCreated"]),r(R,{ref:"updateOrganizationModal",onUpdated:s.fetchOrganizations},null,8,["onUpdated"]),r(q,{ref:"deleteOrganizationModal",onDeleted:s.onOrganizationDeleted},null,8,["onDeleted"]),r(B,{ref:"deleteOrganizationsModal",onDeleted:s.onOrganizationsDeleted},null,8,["onDeleted"])])}const _t=b(Ve,[["render",et]]);export{_t as default};
